## 数据库设计规范

### 数据库命名规范
采用[帕斯卡命名法](https://baike.baidu.com/item/%E5%B8%95%E6%96%AF%E5%8D%A1%E5%91%BD%E5%90%8D%E6%B3%95)风格命名。由26个英文字母(区分大小写)，非特殊情况不允许使用数字。

不允许使用与各数据库系统自带的数据库名冲突的名称。

禁止使用数据库保留关键字。

### 数据表命名规范

#### 风格

采用[帕斯卡命名法](https://baike.baidu.com/item/%E5%B8%95%E6%96%AF%E5%8D%A1%E5%91%BD%E5%90%8D%E6%B3%95)风格命名。由26个英文字母(区分大小写)，非特殊情况不允许使用数字。

#### 命名原则

命名：

* 数据表名应该选取有意义的，能代表业务的英文名称，禁止使用拼音。
* 禁止使用数据库保留关键字。

前缀：

* 前缀应保持简短，以防止表名超过限制。
* 当系统中表过多时才可以考虑使用使用加前缀来区分表非**（必要情况下无须添加）**，例如`User_xxx`。
* 关联关系表的表明应以`R_`开头，例如`R_Organization_User`可以用来表示组织机构与用户的关系。

长度：

* [长度限制](#长度限制)

#### 其他约定

+ 每个表必须有主键，主键使用全大写无`-`UUID格式，长度为`VARCHAR(32)`。
+ 所有的表必须有以下字段
  + 创建日期，命名为`insertTime`。
  + 修改日期，命名为`updateTime`。
  + 是否删除，命名为`isDeleted`，默认为0。**(关系表除外)**
+ 所有的字段都必须是实际业务需要的，除非可预见的需求，否则不要添加任何预留字段。
+ 设计数据表是应考虑业务数据量大小，如果预计超过500万条，应考虑使用其他手段进行优化设计，例如分库分表。
+ 设计数据表时应考虑数据冷热分离，保证高频热数据的性能。
+ 所有的表和字段都应该有注释
+ 禁止在数据表中存储图片，文件等二进制数据。

### 数据表字段命名规范

#### 风格

采用[驼峰命名法](https://baike.baidu.com/item/%E9%AA%86%E9%A9%BC%E5%91%BD%E5%90%8D%E6%B3%95)风格命名。由26个英文字母(区分大小写)，非特殊情况不允许使用数字。

命名：

* 表字段命名应该选取有意义的，能代表业务的英文名称，禁止使用拼音。
* 禁止使用数据库保留关键字

长度：

* [长度限制](#长度限制)

#### 其他约定

+ 布尔类型的字段使用`BIT(1)`。
+ 非特殊情况下禁止使用会导致性能下降明显的数据类型，例如：`Text`。
+ 字段类型长度应符合实际需要，不能随意设置。
+ 尽可能将字段定义为`NOT NULL`，在`Mysql`中可提升特定情况的索引性能
+ 财务相关的金额类数据，必须使用`decimal`类型



### 索引

+ 适当添加索引，不能滥用。
+ 必要的查询字段应添加索引

### 长度限制

所有命名都应该尽量简短明了，非特殊情况各名称都不应该超过30个字符。

| 数据库类型 | 表名                       | 字段名    |
| ---------- | -------------------------- | --------- |
| SQL SERVER | 128个字符，临时表116个字符 | 128个字符 |
| Oracle     | 30个字符                   | 30个字符  |
| MySQL      | 64个字符                   | 64个字符  |



